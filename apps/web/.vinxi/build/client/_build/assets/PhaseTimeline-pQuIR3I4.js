import{b as l,k as zt,h as Bt,e as Ie,w as tl,i as s,t as a,p as t,l as e,r as at,F as ct,q as Ae,v as dt,S as u,m as ll}from"./web-DY2gxAax.js";import"./index-Dtoj-mqw.js";import{m as Ee}from"./mockData-D4l3Y6OF.js";import{c as jt}from"./calendar-k80SZwjM.js";import{c as Ut}from"./clock-BGlWFxSn.js";import{p as ze}from"./play-BU3iDEd4.js";import{t as Et}from"./triangle-alert-vr0RNRgJ.js";import{I as Ot,C as F,B as fe}from"./ThemeSwitcher-qFUB_xEj.js";import{B as ot}from"./badge-DaVJPDeA.js";import{P as Nt}from"./progress-hbeMakjh.js";var il=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nl=g=>l(Ot,zt(g,{name:"CircleCheckBig",iconNode:il})),be=nl,rl=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sl=g=>l(Ot,zt(g,{name:"Circle",iconNode:rl})),At=sl,al=a('<div class="fixed inset-0 z-40">'),cl=a('<div class="absolute top-full left-0 right-0 mt-2 z-50 bg-card border border-border rounded-lg shadow-lg max-h-64 overflow-y-auto"><div class=p-2><div class="ff-secondary-text px-3 py-2 font-medium">Switch User</div><!$><!/>'),dl=a('<div class="flex items-center justify-between"><div><p class=ff-secondary-text>Total Tasks</p><p class="text-3xl font-light text-foreground"></p></div><!$><!/>'),ol=a('<div class="flex items-center justify-between"><div><p class=ff-secondary-text>Completed</p><p class="text-3xl font-light text-foreground"></p></div><!$><!/>'),$l=a('<div class="flex items-center justify-between"><div><p class=ff-secondary-text>In Progress</p><p class="text-3xl font-light text-foreground"></p></div><!$><!/>'),gl=a('<div class="flex items-center justify-between"><div><p class=ff-secondary-text>Due Today</p><p class="text-3xl font-light text-foreground"></p></div><!$><!/>'),_l=a('<div class="flex items-center justify-between"><div><p class=ff-secondary-text>Overdue</p><p class="text-3xl font-light text-foreground"></p></div><!$><!/>'),ul=a('<div class="bg-success/10 text-success px-4 py-2 rounded-lg border border-success/20">'),xl=a('<div><div class=ff-page-header><h1 class=ff-page-title>My Tasks</h1><p class=ff-page-subtitle>Tasks assigned to you across all projects</p></div><section class=ff-section><label class="ff-label mb-4 block">Current User</label><div class=relative><button class=ff-selection-card><div class="flex items-center gap-6"><div></div><div class=flex-1><div class="text-2xl font-light text-card-foreground mb-2"><!$><!/> <!$><!/></div><div class="text-muted-foreground flex items-center gap-4 text-lg"><span></span><span>•</span><span><!$><!/> Tasks</span><span>•</span><span><!$><!/> In Progress</span></div></div></div><svg class="w-5 h-5 text-muted-foreground"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></button><!$><!/></div></section><section class=ff-section><h2 class=ff-section-title>Task Overview</h2><div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4"><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/></div></section><section class=ff-section><div class="flex items-center justify-between mb-8"><h2 class="ff-section-title mb-0">Tasks</h2><!$><!/></div><div class="flex gap-2 mb-6"><!$><!/><!$><!/><!$><!/><!$><!/></div><div class=space-y-4>'),fl=a('<button><div></div><div class=flex-1><div class="font-medium text-sm"><!$><!/> <!$><!/></div><div class="text-xs text-muted-foreground"><!$><!/> • <!$><!/> tasks • <!$><!/> in progress'),bl=a('<h3 class="text-lg font-medium text-card-foreground mb-2">No tasks found'),hl=a("<p class=text-muted-foreground>"),ml=a("<span>•"),vl=a('<span class="flex items-center gap-1"><!$><!/>Due <!$><!/>'),Sl=a('<p class="text-muted-foreground mb-4">'),pl=a('<div class="flex items-start justify-between mb-4"><div class=flex-1><div class="flex items-center gap-3 mb-2"><!$><!/><h3 class="text-lg font-semibold text-card-foreground"></h3><!$><!/><!$><!/></div><div class="flex items-center gap-4 text-sm text-muted-foreground mb-3"><span></span><span>•</span><span class=capitalize><!$><!/> Phase</span><!$><!/></div><!$><!/><div class=space-y-2><div class="flex items-center justify-between text-sm"><span class=text-muted-foreground>Progress</span><span class="font-medium text-card-foreground"><!$><!/>%</span></div><!$><!/>'),Cl=a('<div class="flex items-center justify-end gap-2 pt-4 border-t"><!$><!/><!$><!/>');const Kl=g=>{const[D,K]=Ie("all"),[Be,ie]=Ie([]),[ne,d]=Ie(""),[S,Oe]=Ie(g.currentUser),[he,me]=Ie(!1),Le=()=>Ee.getAllUsers().filter(r=>r.role!=="client");tl(()=>{ie(Ee.getMyTasks(S().id))});const Fe=()=>Be(),$t=r=>{Oe(r),ie(Ee.getMyTasks(r.id)),me(!1),d(`Switched to ${r.name}`),setTimeout(()=>d(""),3e3)},Re=()=>{const r=Fe()||[],o=D();return o==="all"?r:o==="in_progress"?r.filter(f=>f.status==="in_progress"):r.filter(f=>f.urgencyStatus===o)},gt=r=>{switch(r){case"overdue":return"destructive";case"due_today":return"warning";case"due_soon":return"secondary";default:return"outline"}},Ye=r=>{switch(r){case"completed":return l(be,{class:"w-4 h-4 text-success"});case"in_progress":return l(ze,{class:"w-4 h-4 text-primary"});case"blocked":return l(Et,{class:"w-4 h-4 text-destructive"});default:return l(Ut,{class:"w-4 h-4 text-muted-foreground"})}},ve=()=>["field_technician","design_engineer","team_lead","project_manager"].includes(S().role),re=r=>{switch(r){case"field_technician":return"bg-primary";case"design_engineer":return"bg-success";case"team_lead":return"bg-warning";case"project_manager":return"bg-destructive";default:return"bg-muted"}},qe=r=>r.replace("_"," ").replace(/\b\w/g,o=>o.toUpperCase()),He=r=>{ve()&&(ie(o=>o.map(f=>f.id===r?{...f,status:"in_progress",completionPercentage:5,updatedAt:new Date().toISOString()}:f)),d(`Task "${r}" started successfully`),setTimeout(()=>d(""),3e3))},_t=r=>{ve()&&(ie(o=>o.map(f=>f.id===r?{...f,status:"completed",completionPercentage:100,completedAt:new Date().toISOString(),updatedAt:new Date().toISOString()}:f)),d(`Task "${r}" marked as complete`),setTimeout(()=>d(""),3e3))},U=()=>{const r=Fe()||[];return{total:r.length,completed:r.filter(o=>o.status==="completed").length,inProgress:r.filter(o=>o.status==="in_progress").length,dueToday:r.filter(o=>o.urgencyStatus==="due_today").length,overdue:r.filter(o=>o.urgencyStatus==="overdue").length}};return(()=>{var r=s(xl),o=r.firstChild,f=o.nextSibling,We=f.firstChild,Ge=We.nextSibling,se=Ge.firstChild,ut=se.firstChild,Je=ut.firstChild,Ke=Je.nextSibling,ae=Ke.firstChild,xt=ae.firstChild,[Qe,ft]=t(xt.nextSibling),i=Qe.nextSibling,b=i.nextSibling,[y,w]=t(b.nextSibling),k=ae.nextSibling,N=k.firstChild,T=N.nextSibling,M=T.nextSibling,A=M.firstChild,[P,R]=t(A.nextSibling);P.nextSibling;var j=M.nextSibling,q=j.nextSibling,z=q.firstChild,[B,H]=t(z.nextSibling);B.nextSibling;var Q=se.nextSibling,[W,V]=t(Q.nextSibling),h=f.nextSibling,p=h.firstChild,x=p.nextSibling,I=x.firstChild,[O,Se]=t(I.nextSibling),E=O.nextSibling,[G,pe]=t(E.nextSibling),X=G.nextSibling,[ce,de]=t(X.nextSibling),Z=ce.nextSibling,[oe,Ce]=t(Z.nextSibling),ye=oe.nextSibling,[we,bt]=t(ye.nextSibling),Ve=h.nextSibling,ke=Ve.firstChild,ht=ke.firstChild,mt=ht.nextSibling,[vt,Y]=t(mt.nextSibling),L=ke.nextSibling,ee=L.firstChild,[$e,te]=t(ee.nextSibling),Te=$e.nextSibling,[ge,De]=t(Te.nextSibling),Pe=ge.nextSibling,[Mt,Lt]=t(Pe.nextSibling),Ft=Mt.nextSibling,[Rt,Yt]=t(Ft.nextSibling),qt=L.nextSibling;return se.$$click=()=>me(!he()),e(ae,()=>S().name,Qe,ft),e(ae,()=>S().id===g.currentUser.id?"(You)":"",y,w),e(N,()=>qe(S().role)),e(M,()=>U().total,P,R),e(q,()=>U().inProgress,B,H),e(Ge,l(u,{get when(){return he()},get children(){return[(()=>{var n=s(al);return n.$$click=()=>me(!1),at(),n})(),(()=>{var n=s(cl),c=n.firstChild,m=c.firstChild,_=m.nextSibling,[C,v]=t(_.nextSibling);return e(c,l(ct,{get each(){return Le()},children:$=>{const _e=Ee.getMyTasks($.id).length,St=Ee.getMyTasks($.id).filter(J=>J.status==="in_progress").length,Xe=$.id===S().id;return(()=>{var J=s(fl),Ze=J.firstChild,pt=Ze.nextSibling,ue=pt.firstChild,je=ue.firstChild,[Ue,Ct]=t(je.nextSibling),Ne=Ue.nextSibling,yt=Ne.nextSibling,[et,wt]=t(yt.nextSibling),xe=ue.nextSibling,kt=xe.firstChild,[tt,Tt]=t(kt.nextSibling),lt=tt.nextSibling,Dt=lt.nextSibling,[Me,it]=t(Dt.nextSibling),Pt=Me.nextSibling,nt=Pt.nextSibling,[rt,st]=t(nt.nextSibling);return rt.nextSibling,J.$$click=()=>$t($),Ae(J,`
                            w-full flex items-center gap-4 px-3 py-3 rounded-lg text-left transition-colors duration-200
                            ${Xe?"bg-accent text-accent-foreground":"text-card-foreground hover:bg-accent/50"}
                          `),e(ue,()=>$.name,Ue,Ct),e(ue,()=>$.id===g.currentUser.id?"(You)":"",et,wt),e(xe,()=>qe($.role),tt,Tt),e(xe,_e,Me,it),e(xe,St,rt,st),dt(()=>Ae(Ze,`w-3 h-3 rounded-full ${re($.role)}`)),at(),J})()}}),C,v),n})()]}}),W,V),e(x,l(F,{class:"p-6 ff-card",get children(){var n=s(dl),c=n.firstChild,m=c.firstChild,_=m.nextSibling,C=c.nextSibling,[v,$]=t(C.nextSibling);return e(_,()=>U().total),e(n,l(be,{class:"w-8 h-8 text-primary"}),v,$),n}}),O,Se),e(x,l(F,{class:"p-6 ff-card",get children(){var n=s(ol),c=n.firstChild,m=c.firstChild,_=m.nextSibling,C=c.nextSibling,[v,$]=t(C.nextSibling);return e(_,()=>U().completed),e(n,l(be,{class:"w-8 h-8 text-success"}),v,$),n}}),G,pe),e(x,l(F,{class:"p-6 ff-card",get children(){var n=s($l),c=n.firstChild,m=c.firstChild,_=m.nextSibling,C=c.nextSibling,[v,$]=t(C.nextSibling);return e(_,()=>U().inProgress),e(n,l(ze,{class:"w-8 h-8 text-primary"}),v,$),n}}),ce,de),e(x,l(F,{class:"p-6 ff-card",get children(){var n=s(gl),c=n.firstChild,m=c.firstChild,_=m.nextSibling,C=c.nextSibling,[v,$]=t(C.nextSibling);return e(_,()=>U().dueToday),e(n,l(jt,{class:"w-8 h-8 text-warning"}),v,$),n}}),oe,Ce),e(x,l(F,{class:"p-6 ff-card",get children(){var n=s(_l),c=n.firstChild,m=c.firstChild,_=m.nextSibling,C=c.nextSibling,[v,$]=t(C.nextSibling);return e(_,()=>U().overdue),e(n,l(Et,{class:"w-8 h-8 text-destructive"}),v,$),n}}),we,bt),e(ke,l(u,{get when(){return ne()},get children(){var n=s(ul);return e(n,ne),n}}),vt,Y),e(L,l(fe,{get variant(){return D()==="all"?"default":"outline"},onClick:()=>K("all"),children:"All Tasks"}),$e,te),e(L,l(fe,{get variant(){return D()==="in_progress"?"default":"outline"},onClick:()=>K("in_progress"),children:"In Progress"}),ge,De),e(L,l(fe,{get variant(){return D()==="due_today"?"default":"outline"},onClick:()=>K("due_today"),children:"Due Today"}),Mt,Lt),e(L,l(fe,{get variant(){return D()==="overdue"?"default":"outline"},onClick:()=>K("overdue"),children:"Overdue"}),Rt,Yt),e(qt,l(u,{get when(){return Re().length>0},get fallback(){return l(F,{class:"p-8 text-center",get children(){return[l(be,{class:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s(bl),(()=>{var n=s(hl);return e(n,(()=>{var c=ll(()=>D()==="all");return()=>c()?"You don't have any tasks assigned yet.":`No tasks match the "${D()}" filter.`})()),n})()]}})},get children(){return l(ct,{get each(){return Re()},children:n=>l(F,{class:"p-6 hover:shadow-md transition-shadow",get children(){return[(()=>{var c=s(pl),m=c.firstChild,_=m.firstChild,C=_.firstChild,[v,$]=t(C.nextSibling),_e=v.nextSibling,St=_e.nextSibling,[Xe,J]=t(St.nextSibling),Ze=Xe.nextSibling,[pt,ue]=t(Ze.nextSibling),je=_.nextSibling,Ue=je.firstChild,Ct=Ue.nextSibling,Ne=Ct.nextSibling,yt=Ne.firstChild,[et,wt]=t(yt.nextSibling);et.nextSibling;var xe=Ne.nextSibling,[kt,tt]=t(xe.nextSibling),Tt=je.nextSibling,[lt,Dt]=t(Tt.nextSibling),Me=lt.nextSibling,it=Me.firstChild,Pt=it.firstChild,nt=Pt.nextSibling,rt=nt.firstChild,[st,Ht]=t(rt.nextSibling);st.nextSibling;var Wt=it.nextSibling,[Gt,Jt]=t(Wt.nextSibling);return e(_,()=>Ye(n.status),v,$),e(_e,()=>n.taskName),e(_,l(ot,{get variant(){return gt(n.urgencyStatus)},get children(){return n.urgencyStatus.replace("_"," ")}}),Xe,J),e(_,l(u,{get when(){return n.isMilestone},get children(){return l(ot,{variant:"secondary",children:"Milestone"})}}),pt,ue),e(Ue,()=>n.projectName),e(Ne,()=>n.phaseName,et,wt),e(je,l(u,{get when(){return n.dueDate},get children(){return[s(ml),(()=>{var le=s(vl),Kt=le.firstChild,[It,Qt]=t(Kt.nextSibling),Vt=It.nextSibling,Xt=Vt.nextSibling,[Zt,el]=t(Xt.nextSibling);return e(le,l(jt,{class:"w-4 h-4"}),It,Qt),e(le,()=>new Date(n.dueDate).toLocaleDateString(),Zt,el),le})()]}}),kt,tt),e(m,l(u,{get when(){return n.description},get children(){var le=s(Sl);return e(le,()=>n.description),le}}),lt,Dt),e(nt,()=>n.completionPercentage,st,Ht),e(Me,l(Nt,{get value(){return n.completionPercentage},max:100,class:"h-2"}),Gt,Jt),c})(),l(u,{get when(){return ve()&&n.status!=="completed"},get children(){var c=s(Cl),m=c.firstChild,[_,C]=t(m.nextSibling),v=_.nextSibling,[$,_e]=t(v.nextSibling);return e(c,l(u,{get when(){return n.status==="not_started"},get children(){return l(fe,{size:"sm",onClick:()=>He(n.id),children:"Start Task"})}}),_,C),e(c,l(u,{get when(){return n.status==="in_progress"},get children(){return l(fe,{size:"sm",variant:"outline",onClick:()=>_t(n.id),children:"Mark Complete"})}}),$,_e),c}})]}})})}})),dt(()=>Ae(Je,`w-4 h-4 rounded-full ${re(S().role)}`)),at(),r})()};Bt(["click"]);var yl=a('<div class=space-y-6><div class=text-center><h3 class="text-lg font-semibold text-card-foreground mb-2">Project Timeline</h3><p class=text-muted-foreground>Track progress through each phase of your project</p></div><div class=relative><div class="block md:hidden space-y-4"></div><div class="hidden md:block"><div class="flex items-center justify-between relative"><div class="absolute top-1/2 left-0 right-0 h-0.5 bg-gray-200 -translate-y-1/2"></div><!$><!/></div></div></div><div class="flex justify-center"><div class="flex items-center gap-6 text-sm"><div class="flex items-center gap-2"><!$><!/><span class=text-muted-foreground>Completed</span></div><div class="flex items-center gap-2"><!$><!/><span class=text-muted-foreground>In Progress</span></div><div class="flex items-center gap-2"><!$><!/><span class=text-muted-foreground>Upcoming</span></div></div></div><!$><!/><!$><!/>'),wl=a('<div class="absolute left-4 -top-4 w-0.5 h-4 bg-gray-300">'),kl=a('<div class="space-y-2 mb-3">'),Tl=a('<div class="flex items-center gap-2"><!$><!/><span>Started <!$><!/>'),Dl=a('<div class="flex items-center gap-2"><!$><!/><span>Due <!$><!/>'),Pl=a('<div class="text-sm text-muted-foreground space-y-1"><div class="flex items-center justify-between"><span>Tasks</span><span><!$><!/>/<!$><!/></span></div><!$><!/><!$><!/>'),jl=a('<div class="flex items-start gap-4"><!$><!/><div class=flex-1><div class="flex items-center justify-between mb-2"><h4 class="font-semibold text-card-foreground"></h4><!$><!/></div><!$><!/><!$><!/>'),Ul=a("<div class=relative><!$><!/><!$><!/>"),Nl=a("<div class=w-full>"),Ml=a("<div>Due <!$><!/>"),Il=a('<div class="text-xs text-muted-foreground space-y-1"><div><!$><!/>/<!$><!/> tasks</div><!$><!/>'),El=a('<div class="absolute top-1/2 left-full w-full h-1 -translate-y-1/2"><div>'),Al=a('<div class="relative flex-1 flex flex-col items-center"><div><div class="text-center space-y-3"><div class="flex justify-center"></div><h4 class="font-semibold text-card-foreground text-sm"></h4><!$><!/><!$><!/><!$><!/></div></div><!$><!/>'),zl=a('<div class="flex items-center gap-3"><!$><!/><div><h4 class="font-semibold text-blue-900">Currently Working On: <!$><!/></h4><p class="text-blue-800 text-sm"><!$><!/>% complete • <!$><!/> of <!$><!/> tasks finished'),Bl=a('<div class="flex items-center gap-3"><!$><!/><div><h4 class="font-semibold text-card-foreground">Up Next: <!$><!/></h4><p class="text-muted-foreground text-sm">Will begin when current phase requirements are met');const Ql=g=>{const D=d=>({planning:"Planning & Permits",design:"Network Design",implementation:"Installation",testing:"Testing & Activation",deployment:"Go-Live & Handover"})[d]||d,K=(d,S)=>d.status==="completed"?l(be,{class:"w-8 h-8 text-green-600"}):d.status==="active"?l(ze,{class:"w-8 h-8 text-blue-600"}):l(At,{class:"w-8 h-8 text-gray-300"}),Be=(d,S)=>{switch(d){case"completed":return"border-green-500 bg-green-50";case"active":return S>0?"border-blue-500 bg-blue-50":"border-blue-300 bg-blue-25";case"locked":return"border-gray-300 bg-gray-50";default:return"border-gray-300 bg-gray-50"}},ie=(d,S)=>d.status==="completed"&&S.status!=="locked"?"bg-green-500":d.status==="completed"||d.status==="active"?"bg-blue-500":"bg-gray-300",ne=d=>d?new Date(d).toLocaleDateString("en-US",{month:"short",day:"numeric"}):null;return(()=>{var d=s(yl),S=d.firstChild,Oe=S.nextSibling,he=Oe.firstChild,me=he.nextSibling,Le=me.firstChild,Fe=Le.firstChild,$t=Fe.nextSibling,[Re,gt]=t($t.nextSibling),Ye=Oe.nextSibling,ve=Ye.firstChild,re=ve.firstChild,qe=re.firstChild,[He,_t]=t(qe.nextSibling);He.nextSibling;var U=re.nextSibling,r=U.firstChild,[o,f]=t(r.nextSibling);o.nextSibling;var We=U.nextSibling,Ge=We.firstChild,[se,ut]=t(Ge.nextSibling);se.nextSibling;var Je=Ye.nextSibling,[Ke,ae]=t(Je.nextSibling),xt=Ke.nextSibling,[Qe,ft]=t(xt.nextSibling);return e(he,l(ct,{get each(){return g.phases},children:(i,b)=>(()=>{var y=s(Ul),w=y.firstChild,[k,N]=t(w.nextSibling),T=k.nextSibling,[M,A]=t(T.nextSibling);return e(y,l(u,{get when(){return b()>0},get children(){return s(wl)}}),k,N),e(y,l(F,{get class(){return`p-4 cursor-pointer transition-all ${Be(i.status,i.progress)} ${g.interactive?"hover:shadow-md":""}`},onClick:()=>g.onPhaseClick?.(i.phase.id),get children(){var P=s(jl),R=P.firstChild,[j,q]=t(R.nextSibling),z=j.nextSibling,B=z.firstChild,H=B.firstChild,Q=H.nextSibling,[W,V]=t(Q.nextSibling),h=B.nextSibling,[p,x]=t(h.nextSibling),I=p.nextSibling,[O,Se]=t(I.nextSibling);return e(P,()=>K(i,b()),j,q),e(H,()=>D(i.phase.phaseName)),e(B,l(ot,{variant:"outline",get class(){return i.status==="completed"?"bg-green-100 text-green-800":i.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"},get children(){return i.status==="active"?`${i.progress}%`:i.status}}),W,V),e(z,l(u,{get when(){return i.status==="active"||i.status==="completed"},get children(){var E=s(kl);return e(E,l(Nt,{get value(){return i.progress},max:100,class:"h-2"})),E}}),p,x),e(z,l(u,{get when(){return g.showDetails},get children(){var E=s(Pl),G=E.firstChild,pe=G.firstChild,X=pe.nextSibling,ce=X.firstChild,[de,Z]=t(ce.nextSibling),oe=de.nextSibling,Ce=oe.nextSibling,[ye,we]=t(Ce.nextSibling),bt=G.nextSibling,[Ve,ke]=t(bt.nextSibling),ht=Ve.nextSibling,[mt,vt]=t(ht.nextSibling);return e(X,()=>i.tasksCompleted,de,Z),e(X,()=>i.tasksTotal,ye,we),e(E,l(u,{get when(){return i.phase.startDate},get children(){var Y=s(Tl),L=Y.firstChild,[ee,$e]=t(L.nextSibling),te=ee.nextSibling,Te=te.firstChild,ge=Te.nextSibling,[De,Pe]=t(ge.nextSibling);return e(Y,l(jt,{class:"w-4 h-4"}),ee,$e),e(te,()=>ne(i.phase.startDate),De,Pe),Y}}),Ve,ke),e(E,l(u,{get when(){return i.phase.targetEndDate},get children(){var Y=s(Dl),L=Y.firstChild,[ee,$e]=t(L.nextSibling),te=ee.nextSibling,Te=te.firstChild,ge=Te.nextSibling,[De,Pe]=t(ge.nextSibling);return e(Y,l(Ut,{class:"w-4 h-4"}),ee,$e),e(te,()=>ne(i.phase.targetEndDate),De,Pe),Y}}),mt,vt),E}}),O,Se),P}}),M,A),y})()})),e(Le,l(ct,{get each(){return g.phases},children:(i,b)=>(()=>{var y=s(Al),w=y.firstChild,k=w.firstChild,N=k.firstChild,T=N.nextSibling,M=T.nextSibling,[A,P]=t(M.nextSibling),R=A.nextSibling,[j,q]=t(R.nextSibling),z=j.nextSibling,[B,H]=t(z.nextSibling),Q=w.nextSibling,[W,V]=t(Q.nextSibling);return w.$$click=()=>g.onPhaseClick?.(i.phase.id),e(N,()=>K(i,b())),e(T,()=>D(i.phase.phaseName)),e(k,l(ot,{variant:"outline",get class(){return i.status==="completed"?"bg-green-100 text-green-800":i.status==="active"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"},get children(){return i.status==="active"?`${i.progress}%`:i.status}}),A,P),e(k,l(u,{get when(){return i.status==="active"&&i.progress>0},get children(){var h=s(Nl);return e(h,l(Nt,{get value(){return i.progress},max:100,class:"h-2"})),h}}),j,q),e(k,l(u,{get when(){return g.showDetails},get children(){var h=s(Il),p=h.firstChild,x=p.firstChild,[I,O]=t(x.nextSibling),Se=I.nextSibling,E=Se.nextSibling,[G,pe]=t(E.nextSibling);G.nextSibling;var X=p.nextSibling,[ce,de]=t(X.nextSibling);return e(p,()=>i.tasksCompleted,I,O),e(p,()=>i.tasksTotal,G,pe),e(h,l(u,{get when(){return i.phase.targetEndDate},get children(){var Z=s(Ml),oe=Z.firstChild,Ce=oe.nextSibling,[ye,we]=t(Ce.nextSibling);return e(Z,()=>ne(i.phase.targetEndDate),ye,we),Z}}),ce,de),h}}),B,H),e(y,l(u,{get when(){return b()<g.phases.length-1},get children(){var h=s(El),p=h.firstChild;return dt(x=>{var I=`h-full transition-all ${ie(i,g.phases[b()+1])}`,O=i.status==="completed"?"100%":i.status==="active"?`${i.progress}%`:"0%";return I!==x.e&&Ae(p,x.e=I),O!==x.t&&((x.t=O)!=null?p.style.setProperty("width",O):p.style.removeProperty("width")),x},{e:void 0,t:void 0}),h}}),W,V),dt(()=>Ae(w,`relative z-10 p-6 rounded-lg border-2 transition-all cursor-pointer ${Be(i.status,i.progress)} ${g.interactive?"hover:shadow-lg":""}`)),at(),y})()}),Re,gt),e(re,l(be,{class:"w-4 h-4 text-green-600"}),He,_t),e(U,l(ze,{class:"w-4 h-4 text-blue-600"}),o,f),e(We,l(At,{class:"w-4 h-4 text-gray-300"}),se,ut),e(d,l(u,{get when(){return g.phases.find(i=>i.status==="active")},children:i=>l(F,{class:"p-4 bg-blue-50 border-blue-200",get children(){var b=s(zl),y=b.firstChild,[w,k]=t(y.nextSibling),N=w.nextSibling,T=N.firstChild,M=T.firstChild,A=M.nextSibling,[P,R]=t(A.nextSibling),j=T.nextSibling,q=j.firstChild,[z,B]=t(q.nextSibling),H=z.nextSibling,Q=H.nextSibling,[W,V]=t(Q.nextSibling),h=W.nextSibling,p=h.nextSibling,[x,I]=t(p.nextSibling);return x.nextSibling,e(b,l(ze,{class:"w-5 h-5 text-blue-600"}),w,k),e(T,()=>D(i().phase.phaseName),P,R),e(j,()=>i().progress,z,B),e(j,()=>i().tasksCompleted,W,V),e(j,()=>i().tasksTotal,x,I),b}})}),Ke,ae),e(d,l(u,{get when(){return g.phases.find(i=>i.status==="locked")},children:i=>l(F,{class:"p-4 ff-card",get children(){var b=s(Bl),y=b.firstChild,[w,k]=t(y.nextSibling),N=w.nextSibling,T=N.firstChild,M=T.firstChild,A=M.nextSibling,[P,R]=t(A.nextSibling);return e(b,l(Ut,{class:"w-5 h-5 text-muted-foreground"}),w,k),e(T,()=>D(i().phase.phaseName),P,R),b}})}),Qe,ft),d})()};Bt(["click"]);export{Kl as M,Ql as P,be as c};
