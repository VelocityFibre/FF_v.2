import{b as e,k as xe,e as L,i as r,t as n,p as i,l,S as H,F as Y}from"./web-DY2gxAax.js";import{I as Z,S as ve}from"./index-Dtoj-mqw.js";import{m as Se}from"./mockData-D4l3Y6OF.js";import{I as Ce,B as p,C as O}from"./ThemeSwitcher-qFUB_xEj.js";import{m as ye}from"./mail-D-jA0zc6.js";import{p as G}from"./plus-D4bzuMMg.js";import{s as we}from"./square-pen-B7AK6JZ_.js";import{t as ke}from"./trash-2-BxBIW83j.js";import{u as $}from"./user-Br-tLqM2.js";import{B as Ue}from"./badge-DaVJPDeA.js";var je=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ae=m=>e(Ce,xe(m,{name:"UserCheck",iconNode:je})),Fe=Ae,Ne=n('<h2 class="ff-section-title mb-6">Create New User'),Ie=n("<option value=admin>Administrator"),Ee=n("<option value=project_manager>Project Manager"),Me=n("<option value=team_lead>Team Lead"),Be=n("<option value=design_engineer>Design Engineer"),De=n("<option value=field_technician>Field Technician"),Pe=n("<option value=client>Client"),Re=n('<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="ff-label mb-2 block">Full Name *</label><!$><!/></div><div><label class="ff-label mb-2 block">Email Address *</label><!$><!/></div><div><label class="ff-label mb-2 block">Role</label><!$><!/>'),Te=n('<div class="flex gap-4 mt-6"><!$><!/><!$><!/>'),qe=n("<section class=ff-section>"),ze=n('<h3 class="ff-heading-medium text-card-foreground mb-2">No users yet'),Le=n('<p class="text-muted-foreground mb-6">Create your first user to get started'),He=n('<div class=ff-page-container><div class=ff-page-header><div class="flex items-center justify-between"><div><h1 class=ff-page-title>User Management</h1><p class=ff-page-subtitle>Manage team members and their roles</p></div><!$><!/></div></div><!$><!/><section class=ff-section><h2 class=ff-section-title>All Users (<!$><!/>)</h2><div class=space-y-8></div><!$><!/>'),Oe=n('<div><div class="flex items-center gap-3 mb-4"><!$><!/><h3 class="ff-heading-medium text-card-foreground"><!$><!/> (<!$><!/>)</h3></div><div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),Je=n('<div class="flex items-start justify-between mb-3"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-muted rounded-full flex items-center justify-center"></div><div><h4 class="font-semibold text-card-foreground"></h4><p class="text-sm text-muted-foreground flex items-center gap-1"><!$><!/><!$><!/>'),Ke=n('<div class="flex items-center justify-between"><!$><!/><div class="flex gap-1"><!$><!/><!$><!/>');const il=()=>{const[m,J]=L(Se.getAllUsers()),[ee,y]=L(!1),[_,w]=L({name:"",email:"",role:"field_technician"}),le=()=>{const t=_();if(!t.name||!t.email)return;const c={id:`user-${Date.now()}`,name:t.name,email:t.email,role:t.role||"field_technician"};J([...m(),c]),w({name:"",email:"",role:"field_technician"}),y(!1)},te=t=>{confirm("Are you sure you want to delete this user?")&&J(m().filter(c=>c.id!==t))},ie=t=>{switch(t){case"admin":return"bg-red-100 text-red-800";case"project_manager":return"bg-purple-100 text-purple-800";case"team_lead":return"bg-blue-100 text-blue-800";case"design_engineer":return"bg-green-100 text-green-800";case"field_technician":return"bg-orange-100 text-orange-800";case"client":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},re=t=>t.replace("_"," ").replace(/\b\w/g,c=>c.toUpperCase()),ne=t=>m().filter(c=>c.role===t),ae=[{key:"admin",label:"Administrators",icon:Fe},{key:"project_manager",label:"Project Managers",icon:$},{key:"team_lead",label:"Team Leads",icon:$},{key:"design_engineer",label:"Design Engineers",icon:$},{key:"field_technician",label:"Field Technicians",icon:$},{key:"client",label:"Clients",icon:$}];return(()=>{var t=r(He),c=t.firstChild,K=c.firstChild,se=K.firstChild,ce=se.nextSibling,[oe,de]=i(ce.nextSibling),ge=c.nextSibling,[Q,me]=i(ge.nextSibling),V=Q.nextSibling,N=V.firstChild,_e=N.firstChild,fe=_e.nextSibling,[W,$e]=i(fe.nextSibling);W.nextSibling;var X=N.nextSibling,ue=X.nextSibling,[he,be]=i(ue.nextSibling);return l(K,e(p,{onClick:()=>y(!0),class:"bg-primary text-primary-foreground",get children(){return[e(G,{class:"w-4 h-4 mr-2"}),"New User"]}}),oe,de),l(t,e(H,{get when(){return ee()},get children(){var u=r(qe);return l(u,e(O,{class:"p-6 ff-card",get children(){return[r(Ne),(()=>{var s=r(Re),d=s.firstChild,g=d.firstChild,x=g.nextSibling,[h,v]=i(x.nextSibling),o=d.nextSibling,I=o.firstChild,k=I.nextSibling,[E,M]=i(k.nextSibling),U=o.nextSibling,j=U.firstChild,B=j.nextSibling,[D,f]=i(B.nextSibling);return l(d,e(Z,{placeholder:"Enter full name",get value(){return _().name||""},onInput:a=>w({..._(),name:a.target.value})}),h,v),l(o,e(Z,{type:"email",placeholder:"Enter email address",get value(){return _().email||""},onInput:a=>w({..._(),email:a.target.value})}),E,M),l(U,e(ve,{get value(){return _().role||"field_technician"},onChange:a=>w({..._(),role:a}),get children(){return[r(Ie),r(Ee),r(Me),r(Be),r(De),r(Pe)]}}),D,f),s})(),(()=>{var s=r(Te),d=s.firstChild,[g,x]=i(d.nextSibling),h=g.nextSibling,[v,o]=i(h.nextSibling);return l(s,e(p,{onClick:le,class:"bg-primary text-primary-foreground",children:"Create User"}),g,x),l(s,e(p,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),v,o),s})()]}})),u}}),Q,me),l(N,()=>m().length,W,$e),l(X,e(Y,{each:ae,children:u=>{const s=ne(u.key);return e(H,{get when(){return s.length>0},get children(){var d=r(Oe),g=d.firstChild,x=g.firstChild,[h,v]=i(x.nextSibling),o=h.nextSibling,I=o.firstChild,[k,E]=i(I.nextSibling),M=k.nextSibling,U=M.nextSibling,[j,B]=i(U.nextSibling);j.nextSibling;var D=g.nextSibling;return l(g,e(u.icon,{class:"w-5 h-5 text-muted-foreground"}),h,v),l(o,()=>u.label,k,E),l(o,()=>s.length,j,B),l(D,e(Y,{each:s,children:f=>e(O,{class:"p-4 ff-card",get children(){return[(()=>{var a=r(Je),P=a.firstChild,S=P.firstChild,R=S.nextSibling,b=R.firstChild,C=b.nextSibling,A=C.firstChild,[F,T]=i(A.nextSibling),q=F.nextSibling,[z,pe]=i(q.nextSibling);return l(S,e($,{class:"w-5 h-5 text-muted-foreground"})),l(b,()=>f.name),l(C,e(ye,{class:"w-3 h-3"}),F,T),l(C,()=>f.email,z,pe),a})(),(()=>{var a=r(Ke),P=a.firstChild,[S,R]=i(P.nextSibling),b=S.nextSibling,C=b.firstChild,[A,F]=i(C.nextSibling),T=A.nextSibling,[q,z]=i(T.nextSibling);return l(a,e(Ue,{get class(){return ie(f.role)},get children(){return re(f.role)}}),S,R),l(b,e(p,{size:"sm",variant:"outline",get children(){return e(we,{class:"w-3 h-3"})}}),A,F),l(b,e(p,{size:"sm",variant:"outline",onClick:()=>te(f.id),class:"text-red-600 hover:bg-red-50",get children(){return e(ke,{class:"w-3 h-3"})}}),q,z),a})()]}})})),d}})}})),l(V,e(H,{get when(){return m().length===0},get children(){return e(O,{class:"p-12 text-center ff-card",get children(){return[e($,{class:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),r(ze),r(Le),e(p,{onClick:()=>y(!0),class:"bg-primary text-primary-foreground",get children(){return[e(G,{class:"w-4 h-4 mr-2"}),"Create First User"]}})]}})}}),he,be),t})()};export{il as default};
