import{e as y,i,t as r,p as n,l as t,b as e,F as W,v as pe,z as be,S}from"./web-DY2gxAax.js";import{I as fe,S as H}from"./index-Dtoj-mqw.js";import{m as he}from"./mockData-D4l3Y6OF.js";import{p as je}from"./plus-D4bzuMMg.js";import{c as Ze}from"./clock-BGlWFxSn.js";import{s as Pe}from"./square-check-big-DqrSh5V2.js";import{s as et}from"./square-pen-B7AK6JZ_.js";import{t as tt}from"./trash-2-BxBIW83j.js";import{u as lt}from"./user-Br-tLqM2.js";import{B as F,C as X}from"./ThemeSwitcher-qFUB_xEj.js";import{B as Y}from"./badge-DaVJPDeA.js";var it=r('<h2 class="ff-section-title mb-6">Create New Task'),nt=r("<option value>Select Project"),rt=r("<option value=planning>Planning"),st=r("<option value=design>Design"),at=r("<option value=implementation>Implementation"),ot=r("<option value=testing>Testing"),ct=r("<option value=deployment>Deployment"),gt=r("<option value=low>Low"),dt=r("<option value=medium>Medium"),$t=r("<option value=high>High"),_t=r("<option value=critical>Critical"),ut=r("<option value>Unassigned"),mt=r('<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="ff-label mb-2 block">Task Name *</label><!$><!/></div><div><label class="ff-label mb-2 block">Project *</label><!$><!/></div><div><label class="ff-label mb-2 block">Phase</label><!$><!/></div><div><label class="ff-label mb-2 block">Priority</label><!$><!/></div><div><label class="ff-label mb-2 block">Assign To</label><!$><!/></div><div><label class="ff-label mb-2 block">Estimated Hours</label><!$><!/></div><div class=md:col-span-2><label class="ff-label mb-2 block">Description</label><!$><!/>'),pt=r('<div class="flex gap-4 mt-6"><!$><!/><!$><!/>'),bt=r("<section class=ff-section>"),ft=r("<option value=all>All Projects"),ht=r("<option value=all>All Statuses"),xt=r("<option value=not_started>Not Started"),vt=r("<option value=in_progress>In Progress"),St=r("<option value=completed>Completed"),Ct=r("<option value=blocked>Blocked"),kt=r('<div class="flex items-center gap-4"><div class="flex items-center gap-2"><label class=ff-label>Project:</label><!$><!/></div><div class="flex items-center gap-2"><label class=ff-label>Status:</label><!$><!/></div><div class="ml-auto text-sm text-muted-foreground">Showing <!$><!/> of <!$><!/> tasks'),wt=r("<div class=space-y-4>"),yt=r('<div class=ff-page-container><div class=ff-page-header><div class="flex items-center justify-between"><div><h1 class=ff-page-title>Task Management</h1><p class=ff-page-subtitle>Create and manage all tasks across projects</p></div><!$><!/></div></div><!$><!/><section class=ff-section></section><section class=ff-section>'),xe=r("<option>"),It=r('<h3 class="ff-heading-medium text-card-foreground mb-2">No tasks found'),jt=r('<p class="text-muted-foreground mb-6">'),Pt=r('<p class="text-muted-foreground text-sm mb-3">'),Nt=r('<span class="flex items-center gap-1"><!$><!/><!$><!/>'),Tt=r('<span class="flex items-center gap-1"><!$><!/><!$><!/>h estimated'),At=r('<div class="flex items-start justify-between"><div class=flex-1><div class="flex items-center gap-3 mb-2"><h4 class="font-semibold text-card-foreground"></h4><!$><!/><!$><!/><!$><!/><!$><!/></div><!$><!/><div class="flex items-center gap-6 text-sm text-muted-foreground"><span class="flex items-center gap-1"><!$><!/><!$><!/></span><span class=capitalize><!$><!/> phase</span><!$><!/><!$><!/><span><!$><!/>% complete</span></div></div><div class="flex items-center gap-2 ml-4"><!$><!/><!$><!/>');const Rt=()=>{const[I,ve]=y(he.getAllTasks()),[Z]=y(he.getAllProjects()),[Se]=y(he.getAllUsers()),[Ne,R]=y(!1),[ee,Te]=y("all"),[te,Ae]=y("all"),[o,h]=y({taskName:"",description:"",projectId:"",phaseId:"planning",priority:"medium",status:"not_started",estimatedHours:1,completionPercentage:0}),Be=()=>{const l=o();if(!l.taskName||!l.projectId)return;const c={id:`task-${Date.now()}`,taskName:l.taskName,description:l.description||"",status:l.status||"not_started",priority:l.priority||"medium",projectId:l.projectId,phaseId:l.phaseId||"planning",assigneeId:l.assigneeId,createdBy:"admin",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),completionPercentage:0,estimatedHours:l.estimatedHours,dueDate:l.dueDate,isMilestone:l.isMilestone||!1,isBlocking:l.isBlocking||!1};ve([...I(),c]),h({taskName:"",description:"",projectId:"",phaseId:"planning",priority:"medium",status:"not_started",estimatedHours:1,completionPercentage:0}),R(!1)},De=l=>{confirm("Are you sure you want to delete this task?")&&ve(I().filter(c=>c.id!==l))},le=()=>{let l=I();return ee()!=="all"&&(l=l.filter(c=>c.projectId===ee())),te()!=="all"&&(l=l.filter(c=>c.status===te())),l},He=l=>Z().find(j=>j.id===l)?.name||"Unknown Project",Fe=l=>Se().find(j=>j.id===l)?.name||"Unassigned",Me=l=>{switch(l){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"not_started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Ee=l=>{switch(l){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(()=>{var l=i(yt),c=l.firstChild,j=c.firstChild,Ue=j.firstChild,ze=Ue.nextSibling,[Oe,qe]=n(ze.nextSibling),Le=c.nextSibling,[Ce,Re]=n(Le.nextSibling),ke=Ce.nextSibling,Ge=ke.nextSibling;return t(j,e(F,{onClick:()=>R(!0),class:"bg-primary text-primary-foreground",get children(){return[e(je,{class:"w-4 h-4 mr-2"}),"New Task"]}}),Oe,qe),t(l,e(S,{get when(){return Ne()},get children(){var $=i(bt);return t($,e(X,{class:"p-6 ff-card",get children(){return[i(it),(()=>{var s=i(mt),_=s.firstChild,u=_.firstChild,g=u.nextSibling,[x,p]=n(g.nextSibling),m=_.nextSibling,M=m.firstChild,E=M.nextSibling,[P,C]=n(E.nextSibling),k=m.nextSibling,N=k.firstChild,T=N.nextSibling,[U,z]=n(T.nextSibling),w=k.nextSibling,A=w.firstChild,B=A.nextSibling,[D,b]=n(B.nextSibling),v=w.nextSibling,ie=v.firstChild,G=ie.nextSibling,[ne,re]=n(G.nextSibling),O=v.nextSibling,se=O.firstChild,q=se.nextSibling,[ae,J]=n(q.nextSibling),K=O.nextSibling,oe=K.firstChild,Q=oe.nextSibling,[ce,ge]=n(Q.nextSibling);return t(_,e(fe,{placeholder:"Enter task name",get value(){return o().taskName||""},onInput:a=>h({...o(),taskName:a.target.value})}),x,p),t(m,e(H,{get value(){return o().projectId||""},onChange:a=>h({...o(),projectId:a}),get children(){return[i(nt),e(W,{get each(){return Z()},children:a=>(()=>{var f=i(xe);return t(f,()=>a.name),pe(()=>be(f,"value",a.id)),f})()})]}}),P,C),t(k,e(H,{get value(){return o().phaseId||"planning"},onChange:a=>h({...o(),phaseId:a}),get children(){return[i(rt),i(st),i(at),i(ot),i(ct)]}}),U,z),t(w,e(H,{get value(){return o().priority||"medium"},onChange:a=>h({...o(),priority:a}),get children(){return[i(gt),i(dt),i($t),i(_t)]}}),D,b),t(v,e(H,{get value(){return o().assigneeId||""},onChange:a=>h({...o(),assigneeId:a}),get children(){return[i(ut),e(W,{get each(){return Se().filter(a=>a.role!=="client")},children:a=>(()=>{var f=i(xe);return t(f,()=>a.name),pe(()=>be(f,"value",a.id)),f})()})]}}),ne,re),t(O,e(fe,{type:"number",min:"1",get value(){return o().estimatedHours||1},onInput:a=>h({...o(),estimatedHours:parseInt(a.target.value)||1})}),ae,J),t(K,e(fe,{placeholder:"Enter task description",get value(){return o().description||""},onInput:a=>h({...o(),description:a.target.value})}),ce,ge),s})(),(()=>{var s=i(pt),_=s.firstChild,[u,g]=n(_.nextSibling),x=u.nextSibling,[p,m]=n(x.nextSibling);return t(s,e(F,{onClick:Be,class:"bg-primary text-primary-foreground",children:"Create Task"}),u,g),t(s,e(F,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),p,m),s})()]}})),$}}),Ce,Re),t(ke,e(X,{class:"p-4 ff-card",get children(){var $=i(kt),s=$.firstChild,_=s.firstChild,u=_.nextSibling,[g,x]=n(u.nextSibling),p=s.nextSibling,m=p.firstChild,M=m.nextSibling,[E,P]=n(M.nextSibling),C=p.nextSibling,k=C.firstChild,N=k.nextSibling,[T,U]=n(N.nextSibling),z=T.nextSibling,w=z.nextSibling,[A,B]=n(w.nextSibling);return A.nextSibling,t(s,e(H,{get value(){return ee()},onChange:Te,get children(){return[i(ft),e(W,{get each(){return Z()},children:D=>(()=>{var b=i(xe);return t(b,()=>D.name),pe(()=>be(b,"value",D.id)),b})()})]}}),g,x),t(p,e(H,{get value(){return te()},onChange:Ae,get children(){return[i(ht),i(xt),i(vt),i(St),i(Ct)]}}),E,P),t(C,()=>le().length,T,U),t(C,()=>I().length,A,B),$}})),t(Ge,e(S,{get when(){return le().length>0},get fallback(){return e(X,{class:"p-12 text-center ff-card",get children(){return[e(Pe,{class:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),i(It),(()=>{var $=i(jt);return t($,()=>I().length===0?"Create your first task to get started":"Try adjusting your filters"),$})(),e(S,{get when(){return I().length===0},get children(){return e(F,{onClick:()=>R(!0),class:"bg-primary text-primary-foreground",get children(){return[e(je,{class:"w-4 h-4 mr-2"}),"Create First Task"]}})}})]}})},get children(){var $=i(wt);return t($,e(W,{get each(){return le()},children:s=>e(X,{class:"p-4 ff-card",get children(){var _=i(At),u=_.firstChild,g=u.firstChild,x=g.firstChild,p=x.nextSibling,[m,M]=n(p.nextSibling),E=m.nextSibling,[P,C]=n(E.nextSibling),k=P.nextSibling,[N,T]=n(k.nextSibling),U=N.nextSibling,[z,w]=n(U.nextSibling),A=g.nextSibling,[B,D]=n(A.nextSibling),b=B.nextSibling,v=b.firstChild,ie=v.firstChild,[G,ne]=n(ie.nextSibling),re=G.nextSibling,[O,se]=n(re.nextSibling),q=v.nextSibling,ae=q.firstChild,[J,K]=n(ae.nextSibling);J.nextSibling;var oe=q.nextSibling,[Q,ce]=n(oe.nextSibling),ge=Q.nextSibling,[a,f]=n(ge.nextSibling),we=a.nextSibling,Je=we.firstChild,[ye,Ke]=n(Je.nextSibling);ye.nextSibling;var de=u.nextSibling,Qe=de.firstChild,[Ie,Ve]=n(Qe.nextSibling),We=Ie.nextSibling,[Xe,Ye]=n(We.nextSibling);return t(x,()=>s.taskName),t(g,e(Y,{get class(){return Me(s.status)},get children(){return s.status.replace("_"," ")}}),m,M),t(g,e(Y,{get class(){return Ee(s.priority)},get children(){return s.priority}}),P,C),t(g,e(S,{get when(){return s.isMilestone},get children(){return e(Y,{variant:"secondary",children:"Milestone"})}}),N,T),t(g,e(S,{get when(){return s.isBlocking},get children(){return e(Y,{variant:"destructive",children:"Blocking"})}}),z,w),t(u,e(S,{get when(){return s.description},get children(){var d=i(Pt);return t(d,()=>s.description),d}}),B,D),t(v,e(Pe,{class:"w-4 h-4"}),G,ne),t(v,()=>He(s.projectId),O,se),t(q,()=>s.phaseId,J,K),t(b,e(S,{get when(){return s.assigneeId},get children(){var d=i(Nt),$e=d.firstChild,[L,_e]=n($e.nextSibling),ue=L.nextSibling,[V,me]=n(ue.nextSibling);return t(d,e(lt,{class:"w-4 h-4"}),L,_e),t(d,()=>Fe(s.assigneeId),V,me),d}}),Q,ce),t(b,e(S,{get when(){return s.estimatedHours},get children(){var d=i(Tt),$e=d.firstChild,[L,_e]=n($e.nextSibling),ue=L.nextSibling,[V,me]=n(ue.nextSibling);return V.nextSibling,t(d,e(Ze,{class:"w-4 h-4"}),L,_e),t(d,()=>s.estimatedHours,V,me),d}}),a,f),t(we,()=>s.completionPercentage,ye,Ke),t(de,e(F,{size:"sm",variant:"outline",get children(){return[e(et,{class:"w-4 h-4 mr-1"}),"Edit"]}}),Ie,Ve),t(de,e(F,{size:"sm",variant:"outline",onClick:()=>De(s.id),class:"text-red-600 hover:bg-red-50",get children(){return[e(tt,{class:"w-4 h-4 mr-1"}),"Delete"]}}),Xe,Ye),_}})})),$}})),l})()};export{Rt as default};
