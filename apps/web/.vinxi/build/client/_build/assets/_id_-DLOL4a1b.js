import{b as e,k as ne,e as U,w as je,i as l,t as r,l as t,p as i,S as g,F as Ie}from"./web-DY2gxAax.js";import{I as W,S as ee}from"./index-Dtoj-mqw.js";import{m as te}from"./mockData-D4l3Y6OF.js";import{h as Ae,i as Ne}from"./routing-BTE-NiBa.js";import{I as ie,B as _,C as X}from"./ThemeSwitcher-qFUB_xEj.js";import{p as le}from"./plus-D4bzuMMg.js";import{t as Te}from"./trash-2-BxBIW83j.js";import{B as H}from"./badge-DaVJPDeA.js";var ze=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ee=b=>e(ie,ne(b,{name:"ArrowLeft",iconNode:ze})),re=Ee,Me=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Be=b=>e(ie,ne(b,{name:"Save",iconNode:Me})),De=Be,He=r("<div class=ff-page-container>"),Fe=r('<div class="text-center py-8"><p class=text-muted-foreground>Project not found</p><!$><!/>'),Le=r('<div class=ff-page-header><div class="flex items-center justify-between"><div><!$><!/><h1 class=ff-page-title></h1><p class=ff-page-subtitle>Edit project details and manage tasks</p></div><div class="flex gap-2"><!$><!/><!$><!/>'),Ve=r('<h2 class="ff-section-title mb-6">Project Details'),Oe=r("<option value=planning>Planning"),qe=r("<option value=design>Design"),Ge=r("<option value=implementation>Implementation"),Je=r("<option value=testing>Testing"),Ke=r("<option value=deployment>Deployment"),Qe=r("<option value=active>Active"),Re=r("<option value=completed>Completed"),Ue=r("<option value=on_hold>On Hold"),We=r("<option value=cancelled>Cancelled"),Xe=r('<div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><label class="ff-label mb-2 block">Project Name</label><!$><!/></div><div><label class="ff-label mb-2 block">Current Phase</label><!$><!/></div><div><label class="ff-label mb-2 block">Completion %</label><!$><!/></div><div><label class="ff-label mb-2 block">Status</label><!$><!/></div><div class=md:col-span-2><label class="ff-label mb-2 block">Description</label><!$><!/>'),Ye=r("<section class=ff-section>"),Ze=r("<div class=space-y-4>"),et=r('<section class=ff-section><div class="flex items-center justify-between mb-6"><h2 class="ff-section-title mb-0">Project Tasks (<!$><!/>)</h2><!$><!/></div><!$><!/>'),tt=r("<p class=text-card-foreground>"),lt=r("<p class=text-card-foreground><!$><!/>%"),rt=r("<p class=text-muted-foreground>"),nt=r('<p class="text-muted-foreground mb-4">No tasks created for this project yet'),it=r('<p class="text-muted-foreground text-sm mb-2">'),at=r("<span>Assigned to: <!$><!/>"),st=r('<div class="flex items-start justify-between"><div class=flex-1><div class="flex items-center gap-3 mb-2"><h4 class="font-semibold text-card-foreground"></h4><!$><!/><!$><!/></div><!$><!/><div class="flex items-center gap-4 text-xs text-muted-foreground"><span>Phase: <!$><!/></span><span>Progress: <!$><!/>%</span><!$><!/></div></div><!$><!/>');const pt=()=>{const b=Ae(),F=Ne(),[ae,Y]=U(null),[L,se]=U([]),[h,V]=U(!1);je(()=>{const a=te.getAllProjects().find(s=>s.id===b.id);if(a){Y(a);const s=te.getAllTasks().filter(d=>d.projectId===b.id);se(s)}});const ce=()=>{V(!1),alert("Project saved! (Changes are temporary in demo mode)")},oe=()=>{confirm("Are you sure you want to delete this project? This will also delete all associated tasks.")&&(alert("Project deleted! (Demo mode)"),F("/admin/projects"))},w=(u,a)=>{Y(s=>s?{...s,[u]:a}:null)},de=u=>{switch(u){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"blocked":return"bg-red-100 text-red-800";case"not_started":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ge=u=>{switch(u){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return(()=>{var u=l(He);return t(u,e(g,{get when(){return ae()},get fallback(){return(()=>{var a=l(Fe),s=a.firstChild,d=s.nextSibling,[c,p]=i(d.nextSibling);return t(a,e(_,{onClick:()=>F("/admin/projects"),variant:"outline",class:"mt-4",get children(){return[e(re,{class:"w-4 h-4 mr-2"}),"Back to Projects"]}}),c,p),a})()},children:a=>[(()=>{var s=l(Le),d=s.firstChild,c=d.firstChild,p=c.firstChild,[x,v]=i(p.nextSibling),y=x.nextSibling,$=c.nextSibling,j=$.firstChild,[S,I]=i(j.nextSibling),A=S.nextSibling,[f,C]=i(A.nextSibling);return t(c,e(_,{onClick:()=>F("/admin/projects"),variant:"outline",size:"sm",class:"mb-4",get children(){return[e(re,{class:"w-4 h-4 mr-2"}),"Back to Projects"]}}),x,v),t(y,()=>a().name),t($,e(g,{get when(){return h()},get fallback(){return e(_,{onClick:()=>V(!0),children:"Edit Project"})},get children(){return[e(_,{onClick:ce,class:"bg-primary text-primary-foreground",get children(){return[e(De,{class:"w-4 h-4 mr-2"}),"Save Changes"]}}),e(_,{variant:"outline",onClick:()=>V(!1),children:"Cancel"})]}}),S,I),t($,e(_,{variant:"outline",onClick:oe,class:"text-red-600 hover:bg-red-50",get children(){return e(Te,{class:"w-4 h-4"})}}),f,C),s})(),(()=>{var s=l(Ye);return t(s,e(X,{class:"p-6 ff-card",get children(){return[l(Ve),(()=>{var d=l(Xe),c=d.firstChild,p=c.firstChild,x=p.nextSibling,[v,y]=i(x.nextSibling),$=c.nextSibling,j=$.firstChild,S=j.nextSibling,[I,A]=i(S.nextSibling),f=$.nextSibling,C=f.firstChild,o=C.nextSibling,[N,T]=i(o.nextSibling),m=f.nextSibling,z=m.firstChild,O=z.nextSibling,[E,q]=i(O.nextSibling),M=m.nextSibling,G=M.firstChild,J=G.nextSibling,[K,B]=i(J.nextSibling);return t(c,e(g,{get when(){return h()},get fallback(){return(()=>{var n=l(tt);return t(n,()=>a().name),n})()},get children(){return e(W,{get value(){return a().name},onInput:n=>w("name",n.target.value)})}}),v,y),t($,e(g,{get when(){return h()},get fallback(){return e(H,{class:"capitalize",get children(){return a().currentPhase.replace("_"," ")}})},get children(){return e(ee,{get value(){return a().currentPhase},onChange:n=>w("currentPhase",n),get children(){return[l(Oe),l(qe),l(Ge),l(Je),l(Ke)]}})}}),I,A),t(f,e(g,{get when(){return h()},get fallback(){return(()=>{var n=l(lt),D=n.firstChild,[k,Q]=i(D.nextSibling);return k.nextSibling,t(n,()=>a().completionPercentage,k,Q),n})()},get children(){return e(W,{type:"number",min:"0",max:"100",get value(){return a().completionPercentage},onInput:n=>w("completionPercentage",parseInt(n.target.value)||0)})}}),N,T),t(m,e(g,{get when(){return h()},get fallback(){return e(H,{class:"capitalize",get children(){return a().status||"active"}})},get children(){return e(ee,{get value(){return a().status||"active"},onChange:n=>w("status",n),get children(){return[l(Qe),l(Re),l(Ue),l(We)]}})}}),E,q),t(M,e(g,{get when(){return h()},get fallback(){return(()=>{var n=l(rt);return t(n,()=>a().description||"No description"),n})()},get children(){return e(W,{get value(){return a().description||""},onInput:n=>w("description",n.target.value),placeholder:"Enter project description"})}}),K,B),d})()]}})),s})(),(()=>{var s=l(et),d=s.firstChild,c=d.firstChild,p=c.firstChild,x=p.nextSibling,[v,y]=i(x.nextSibling);v.nextSibling;var $=c.nextSibling,[j,S]=i($.nextSibling),I=d.nextSibling,[A,f]=i(I.nextSibling);return t(c,()=>L().length,v,y),t(d,e(_,{size:"sm",variant:"outline",get children(){return[e(le,{class:"w-4 h-4 mr-2"}),"Add Task"]}}),j,S),t(s,e(g,{get when(){return L().length>0},get fallback(){return e(X,{class:"p-8 text-center ff-card",get children(){return[l(nt),e(_,{size:"sm",get children(){return[e(le,{class:"w-4 h-4 mr-2"}),"Create First Task"]}})]}})},get children(){var C=l(Ze);return t(C,e(Ie,{get each(){return L()},children:o=>e(X,{class:"p-4 ff-card",get children(){var N=l(st),T=N.firstChild,m=T.firstChild,z=m.firstChild,O=z.nextSibling,[E,q]=i(O.nextSibling),M=E.nextSibling,[G,J]=i(M.nextSibling),K=m.nextSibling,[B,n]=i(K.nextSibling),D=B.nextSibling,k=D.firstChild,Q=k.firstChild,ue=Q.nextSibling,[$e,_e]=i(ue.nextSibling),R=k.nextSibling,me=R.firstChild,pe=me.nextSibling,[Z,fe]=i(pe.nextSibling);Z.nextSibling;var be=R.nextSibling,[he,xe]=i(be.nextSibling),ve=T.nextSibling,[Se,Ce]=i(ve.nextSibling);return t(z,()=>o.taskName),t(m,e(H,{get class(){return de(o.status)},get children(){return o.status.replace("_"," ")}}),E,q),t(m,e(H,{get class(){return ge(o.priority)},get children(){return o.priority}}),G,J),t(T,e(g,{get when(){return o.description},get children(){var P=l(it);return t(P,()=>o.description),P}}),B,n),t(k,()=>o.phaseId,$e,_e),t(R,()=>o.completionPercentage,Z,fe),t(D,e(g,{get when(){return o.assigneeId},get children(){var P=l(at),ke=P.firstChild,Pe=ke.nextSibling,[we,ye]=i(Pe.nextSibling);return t(P,()=>o.assigneeId,we,ye),P}}),he,xe),t(N,e(_,{size:"sm",variant:"outline",children:"Edit"}),Se,Ce),N}})})),C}}),A,f),s})()]})),u})()};export{pt as default};
